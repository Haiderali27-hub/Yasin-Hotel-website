{"ast":null,"code":"import{Navigate,useLocation}from'react-router-dom';import{authUtils}from'../services/api';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireAuth=true,redirectTo='/login'}=_ref;const location=useLocation();const isAuthenticated=authUtils.isAuthenticated();if(requireAuth&&!isAuthenticated){// Save the intended destination before redirecting to login\nlocalStorage.setItem('redirectAfterLogin',location.pathname);// Show an alert to inform the user\nalert('Please log in to access this page. You will be redirected back after login.');return/*#__PURE__*/_jsx(Navigate,{to:redirectTo,replace:true});}if(!requireAuth&&isAuthenticated){// If user is already authenticated and trying to access auth pages, redirect to home\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};export default ProtectedRoute;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}