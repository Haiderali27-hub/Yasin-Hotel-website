{"ast":null,"code":"import _objectSpread from\"c:/Users/DELL/Desktop/Yasin Heaven Star Hotel/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{authUtils,userAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserSignup=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleInputChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setError('');// Validation\nif(formData.password!==formData.confirmPassword){setError('Passwords do not match');return;}if(formData.password.length<6){setError('Password must be at least 6 characters long');return;}setLoading(true);try{const response=await userAPI.register({name:formData.name,email:formData.email,password:formData.password});if(response.data.token){// Save token and user info\nauthUtils.setToken(response.data.token);localStorage.setItem('userInfo',JSON.stringify(response.data.user));localStorage.setItem('userType','user');console.log('✅ User registration successful!');alert('Account created successfully! Welcome to Yasin Heaven Star Hotel.');// Redirect to booking or home page\nconst redirectTo=localStorage.getItem('redirectAfterLogin')||'/';localStorage.removeItem('redirectAfterLogin');navigate(redirectTo);}else{setError('Registration failed - please try again');}}catch(err){var _err$response,_err$response$data;console.error('❌ Registration error:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Registration failed. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",style:{maxWidth:'400px',margin:'50px auto',padding:'2rem',border:'1px solid #ddd',borderRadius:'8px',backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem'},children:\"Join us to book rooms and enjoy exclusive benefits\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Full Name\",value:formData.name,onChange:handleInputChange,required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",value:formData.email,onChange:handleInputChange,required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password (min 6 characters)\",value:formData.password,onChange:handleInputChange,required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",placeholder:\"Confirm Password\",value:formData.confirmPassword,onChange:handleInputChange,required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'12px',margin:'10px 0',backgroundColor:loading?'#ccc':'#28a745',color:'white',border:'none',borderRadius:'4px',fontSize:'16px',cursor:loading?'not-allowed':'pointer'},children:loading?'Creating Account...':'Create Account'}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',backgroundColor:'#ffe6e6',padding:'10px',borderRadius:'4px',marginTop:'10px'},children:error})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'1.5rem',padding:'1rem',borderTop:'1px solid #eee'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Already have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:'#007bff',textDecoration:'none',fontWeight:'bold'},children:\"Sign In\"})]})]});};export default UserSignup;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}