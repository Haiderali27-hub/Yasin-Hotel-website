{"ast":null,"code":"import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{authUtils,userAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserLogin=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const response=await userAPI.login({email,password});if(response.data.token){// Save token and user info\nauthUtils.setToken(response.data.token);localStorage.setItem('userInfo',JSON.stringify(response.data.user));localStorage.setItem('userType','user');console.log('✅ User login successful!');alert('Login successful! Welcome back.');// Redirect to booking or home page\nconst redirectTo=localStorage.getItem('redirectAfterLogin')||'/';localStorage.removeItem('redirectAfterLogin');navigate(redirectTo);}else{setError('Login failed - no token received');}}catch(err){var _err$response,_err$response$data;console.error('❌ Login error:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed. Please check your credentials.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",style:{maxWidth:'400px',margin:'50px auto',padding:'2rem',border:'1px solid #ddd',borderRadius:'8px',backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Login\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem'},children:\"Sign in to book rooms and manage your reservations\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your Email\",value:email,onChange:e=>setEmail(e.target.value),required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Your Password\",value:password,onChange:e=>setPassword(e.target.value),required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'12px',margin:'10px 0',backgroundColor:loading?'#ccc':'#007bff',color:'white',border:'none',borderRadius:'4px',fontSize:'16px',cursor:loading?'not-allowed':'pointer'},children:loading?'Signing In...':'Sign In'}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',backgroundColor:'#ffe6e6',padding:'10px',borderRadius:'4px',marginTop:'10px'},children:error})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'1.5rem',padding:'1rem',borderTop:'1px solid #eee'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:'#007bff',textDecoration:'none',fontWeight:'bold'},children:\"Create Account\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'1rem'},children:/*#__PURE__*/_jsx(Link,{to:\"/admin/login\",style:{color:'#6c757d',textDecoration:'none',fontSize:'0.9rem'},children:\"Admin Login \\u2192\"})})]});};export default UserLogin;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}