{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Yasin Heaven Star Hotel\\\\Frontend\\\\src\\\\pages\\\\UserLogin.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authUtils, userAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserLogin = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      const response = await userAPI.login({\n        email,\n        password\n      });\n      if (response.data.token) {\n        // Save token and user info\n        authUtils.saveToken(response.data.token);\n        localStorage.setItem('userInfo', JSON.stringify(response.data.user));\n        localStorage.setItem('userType', 'user');\n        console.log('✅ User login successful!');\n        alert('Login successful! Welcome back.');\n\n        // Redirect to booking or home page\n        const redirectTo = localStorage.getItem('redirectAfterLogin') || '/';\n        localStorage.removeItem('redirectAfterLogin');\n        navigate(redirectTo);\n      } else {\n        setError('Login failed - no token received');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('❌ Login error:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Login failed. Please check your credentials.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    style: {\n      maxWidth: '400px',\n      margin: '50px auto',\n      padding: '2rem',\n      border: '1px solid #ddd',\n      borderRadius: '8px',\n      backgroundColor: '#f9f9f9'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"User Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#666',\n          fontSize: '0.9rem'\n        },\n        children: \"Sign in to book rooms and manage your reservations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Your Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true,\n        disabled: loading,\n        style: {\n          width: '100%',\n          padding: '10px',\n          margin: '10px 0',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          fontSize: '16px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Your Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true,\n        disabled: loading,\n        style: {\n          width: '100%',\n          padding: '10px',\n          margin: '10px 0',\n          border: '1px solid #ddd',\n          borderRadius: '4px',\n          fontSize: '16px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          width: '100%',\n          padding: '12px',\n          margin: '10px 0',\n          backgroundColor: loading ? '#ccc' : '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '16px',\n          cursor: loading ? 'not-allowed' : 'pointer'\n        },\n        children: loading ? 'Signing In...' : 'Sign In'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          backgroundColor: '#ffe6e6',\n          padding: '10px',\n          borderRadius: '4px',\n          marginTop: '10px'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '1.5rem',\n        padding: '1rem',\n        borderTop: '1px solid #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Don't have an account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signup\",\n        style: {\n          color: '#007bff',\n          textDecoration: 'none',\n          fontWeight: 'bold'\n        },\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '1rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/login\",\n        style: {\n          color: '#6c757d',\n          textDecoration: 'none',\n          fontSize: '0.9rem'\n        },\n        children: \"Admin Login \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(UserLogin, \"6HSgh3QiCvfUxk6eI7OKYEV0xmQ=\", false, function () {\n  return [useNavigate];\n});\n_c = UserLogin;\nexport default UserLogin;\nvar _c;\n$RefreshReg$(_c, \"UserLogin\");","map":{"version":3,"names":["useState","Link","useNavigate","authUtils","userAPI","jsxDEV","_jsxDEV","UserLogin","_s","email","setEmail","password","setPassword","error","setError","loading","setLoading","navigate","handleSubmit","e","preventDefault","response","login","data","token","saveToken","localStorage","setItem","JSON","stringify","user","console","log","alert","redirectTo","getItem","removeItem","err","_err$response","_err$response$data","message","className","style","maxWidth","margin","padding","border","borderRadius","backgroundColor","children","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","fontSize","onSubmit","type","placeholder","value","onChange","target","required","disabled","width","cursor","marginTop","borderTop","to","textDecoration","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/Yasin Heaven Star Hotel/Frontend/src/pages/UserLogin.js"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authUtils, userAPI } from '../services/api';\n\nconst UserLogin = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    \n    try {\n      const response = await userAPI.login({ email, password });\n      \n      if (response.data.token) {\n        // Save token and user info\n        authUtils.saveToken(response.data.token);\n        localStorage.setItem('userInfo', JSON.stringify(response.data.user));\n        localStorage.setItem('userType', 'user');\n        \n        console.log('✅ User login successful!');\n        alert('Login successful! Welcome back.');\n        \n        // Redirect to booking or home page\n        const redirectTo = localStorage.getItem('redirectAfterLogin') || '/';\n        localStorage.removeItem('redirectAfterLogin');\n        navigate(redirectTo);\n        \n      } else {\n        setError('Login failed - no token received');\n      }\n    } catch (err) {\n      console.error('❌ Login error:', err);\n      setError(err.response?.data?.message || 'Login failed. Please check your credentials.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\" style={{\n      maxWidth: '400px',\n      margin: '50px auto',\n      padding: '2rem',\n      border: '1px solid #ddd',\n      borderRadius: '8px',\n      backgroundColor: '#f9f9f9'\n    }}>\n      <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n        <h2>User Login</h2>\n        <p style={{ color: '#666', fontSize: '0.9rem' }}>\n          Sign in to book rooms and manage your reservations\n        </p>\n      </div>\n      \n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          placeholder=\"Your Email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          required\n          disabled={loading}\n          style={{\n            width: '100%',\n            padding: '10px',\n            margin: '10px 0',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            fontSize: '16px'\n          }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Your Password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          required\n          disabled={loading}\n          style={{\n            width: '100%',\n            padding: '10px',\n            margin: '10px 0',\n            border: '1px solid #ddd',\n            borderRadius: '4px',\n            fontSize: '16px'\n          }}\n        />\n        <button \n          type=\"submit\" \n          disabled={loading}\n          style={{\n            width: '100%',\n            padding: '12px',\n            margin: '10px 0',\n            backgroundColor: loading ? '#ccc' : '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontSize: '16px',\n            cursor: loading ? 'not-allowed' : 'pointer'\n          }}\n        >\n          {loading ? 'Signing In...' : 'Sign In'}\n        </button>\n        \n        {error && (\n          <div style={{\n            color: 'red',\n            backgroundColor: '#ffe6e6',\n            padding: '10px',\n            borderRadius: '4px',\n            marginTop: '10px'\n          }}>\n            {error}\n          </div>\n        )}\n      </form>\n      \n      <div style={{ \n        textAlign: 'center', \n        marginTop: '1.5rem',\n        padding: '1rem',\n        borderTop: '1px solid #eee'\n      }}>\n        <p>Don't have an account?</p>\n        <Link \n          to=\"/signup\" \n          style={{\n            color: '#007bff',\n            textDecoration: 'none',\n            fontWeight: 'bold'\n          }}\n        >\n          Create Account\n        </Link>\n      </div>\n      \n      <div style={{ \n        textAlign: 'center', \n        marginTop: '1rem'\n      }}>\n        <Link \n          to=\"/admin/login\" \n          style={{\n            color: '#6c757d',\n            textDecoration: 'none',\n            fontSize: '0.9rem'\n          }}\n        >\n          Admin Login →\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default UserLogin;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,SAAS,EAAEC,OAAO,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMiB,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9B,MAAMgB,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBN,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMjB,OAAO,CAACkB,KAAK,CAAC;QAAEb,KAAK;QAAEE;MAAS,CAAC,CAAC;MAEzD,IAAIU,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACvB;QACArB,SAAS,CAACsB,SAAS,CAACJ,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;QACxCE,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAACE,IAAI,CAACO,IAAI,CAAC,CAAC;QACpEJ,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC;QAExCI,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;QACvCC,KAAK,CAAC,iCAAiC,CAAC;;QAExC;QACA,MAAMC,UAAU,GAAGR,YAAY,CAACS,OAAO,CAAC,oBAAoB,CAAC,IAAI,GAAG;QACpET,YAAY,CAACU,UAAU,CAAC,oBAAoB,CAAC;QAC7CnB,QAAQ,CAACiB,UAAU,CAAC;MAEtB,CAAC,MAAM;QACLpB,QAAQ,CAAC,kCAAkC,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOuB,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZR,OAAO,CAAClB,KAAK,CAAC,gBAAgB,EAAEwB,GAAG,CAAC;MACpCvB,QAAQ,CAAC,EAAAwB,aAAA,GAAAD,GAAG,CAAChB,QAAQ,cAAAiB,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcf,IAAI,cAAAgB,kBAAA,uBAAlBA,kBAAA,CAAoBC,OAAO,KAAI,8CAA8C,CAAC;IACzF,CAAC,SAAS;MACRxB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEV,OAAA;IAAKmC,SAAS,EAAC,gBAAgB;IAACC,KAAK,EAAE;MACrCC,QAAQ,EAAE,OAAO;MACjBC,MAAM,EAAE,WAAW;MACnBC,OAAO,EAAE,MAAM;MACfC,MAAM,EAAE,gBAAgB;MACxBC,YAAY,EAAE,KAAK;MACnBC,eAAe,EAAE;IACnB,CAAE;IAAAC,QAAA,gBACA3C,OAAA;MAAKoC,KAAK,EAAE;QAAEQ,SAAS,EAAE,QAAQ;QAAEC,YAAY,EAAE;MAAO,CAAE;MAAAF,QAAA,gBACxD3C,OAAA;QAAA2C,QAAA,EAAI;MAAU;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnBjD,OAAA;QAAGoC,KAAK,EAAE;UAAEc,KAAK,EAAE,MAAM;UAAEC,QAAQ,EAAE;QAAS,CAAE;QAAAR,QAAA,EAAC;MAEjD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAENjD,OAAA;MAAMoD,QAAQ,EAAExC,YAAa;MAAA+B,QAAA,gBAC3B3C,OAAA;QACEqD,IAAI,EAAC,OAAO;QACZC,WAAW,EAAC,YAAY;QACxBC,KAAK,EAAEpD,KAAM;QACbqD,QAAQ,EAAE3C,CAAC,IAAIT,QAAQ,CAACS,CAAC,CAAC4C,MAAM,CAACF,KAAK,CAAE;QACxCG,QAAQ;QACRC,QAAQ,EAAElD,OAAQ;QAClB2B,KAAK,EAAE;UACLwB,KAAK,EAAE,MAAM;UACbrB,OAAO,EAAE,MAAM;UACfD,MAAM,EAAE,QAAQ;UAChBE,MAAM,EAAE,gBAAgB;UACxBC,YAAY,EAAE,KAAK;UACnBU,QAAQ,EAAE;QACZ;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACFjD,OAAA;QACEqD,IAAI,EAAC,UAAU;QACfC,WAAW,EAAC,eAAe;QAC3BC,KAAK,EAAElD,QAAS;QAChBmD,QAAQ,EAAE3C,CAAC,IAAIP,WAAW,CAACO,CAAC,CAAC4C,MAAM,CAACF,KAAK,CAAE;QAC3CG,QAAQ;QACRC,QAAQ,EAAElD,OAAQ;QAClB2B,KAAK,EAAE;UACLwB,KAAK,EAAE,MAAM;UACbrB,OAAO,EAAE,MAAM;UACfD,MAAM,EAAE,QAAQ;UAChBE,MAAM,EAAE,gBAAgB;UACxBC,YAAY,EAAE,KAAK;UACnBU,QAAQ,EAAE;QACZ;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACFjD,OAAA;QACEqD,IAAI,EAAC,QAAQ;QACbM,QAAQ,EAAElD,OAAQ;QAClB2B,KAAK,EAAE;UACLwB,KAAK,EAAE,MAAM;UACbrB,OAAO,EAAE,MAAM;UACfD,MAAM,EAAE,QAAQ;UAChBI,eAAe,EAAEjC,OAAO,GAAG,MAAM,GAAG,SAAS;UAC7CyC,KAAK,EAAE,OAAO;UACdV,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBU,QAAQ,EAAE,MAAM;UAChBU,MAAM,EAAEpD,OAAO,GAAG,aAAa,GAAG;QACpC,CAAE;QAAAkC,QAAA,EAEDlC,OAAO,GAAG,eAAe,GAAG;MAAS;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC,EAER1C,KAAK,iBACJP,OAAA;QAAKoC,KAAK,EAAE;UACVc,KAAK,EAAE,KAAK;UACZR,eAAe,EAAE,SAAS;UAC1BH,OAAO,EAAE,MAAM;UACfE,YAAY,EAAE,KAAK;UACnBqB,SAAS,EAAE;QACb,CAAE;QAAAnB,QAAA,EACCpC;MAAK;QAAAuC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC,eAEPjD,OAAA;MAAKoC,KAAK,EAAE;QACVQ,SAAS,EAAE,QAAQ;QACnBkB,SAAS,EAAE,QAAQ;QACnBvB,OAAO,EAAE,MAAM;QACfwB,SAAS,EAAE;MACb,CAAE;MAAApB,QAAA,gBACA3C,OAAA;QAAA2C,QAAA,EAAG;MAAsB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC7BjD,OAAA,CAACL,IAAI;QACHqE,EAAE,EAAC,SAAS;QACZ5B,KAAK,EAAE;UACLc,KAAK,EAAE,SAAS;UAChBe,cAAc,EAAE,MAAM;UACtBC,UAAU,EAAE;QACd,CAAE;QAAAvB,QAAA,EACH;MAED;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eAENjD,OAAA;MAAKoC,KAAK,EAAE;QACVQ,SAAS,EAAE,QAAQ;QACnBkB,SAAS,EAAE;MACb,CAAE;MAAAnB,QAAA,eACA3C,OAAA,CAACL,IAAI;QACHqE,EAAE,EAAC,cAAc;QACjB5B,KAAK,EAAE;UACLc,KAAK,EAAE,SAAS;UAChBe,cAAc,EAAE,MAAM;UACtBd,QAAQ,EAAE;QACZ,CAAE;QAAAR,QAAA,EACH;MAED;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC/C,EAAA,CA5JID,SAAS;EAAA,QAKIL,WAAW;AAAA;AAAAuE,EAAA,GALxBlE,SAAS;AA8Jf,eAAeA,SAAS;AAAC,IAAAkE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}