{"ast":null,"code":"import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{adminAPI,authUtils}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLogin=_ref=>{let{onLogin}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const response=await adminAPI.login({email,password});if(response.data.token){// Save token and admin info\nauthUtils.setToken(response.data.token);localStorage.setItem('adminInfo',JSON.stringify(response.data.admin));localStorage.setItem('userType','admin');console.log('✅ Admin login successful!');console.log('📋 Admin info:',response.data.admin);// Show success message\nalert('Login successful! Redirecting to admin dashboard...');// Call onLogin callback if provided\nif(onLogin)onLogin(response.data.admin);// Redirect to admin dashboard\nnavigate('/admin');}else{setError('Login failed - no token received');}}catch(err){var _err$response,_err$response$data;console.error('❌ Login error:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed. Please check your credentials.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-login-container\",style:{maxWidth:'400px',margin:'50px auto',padding:'2rem',border:'1px solid #ddd',borderRadius:'8px',backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Login\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem'},children:\"Administrative access to hotel management system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-info\",style:{backgroundColor:'#e7f3ff',padding:'1rem',borderRadius:'4px',marginBottom:'1rem',fontSize:'0.9rem'},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Default Admin Credentials:\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Email: admin@yasinheavenstar.com\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Password: admin123\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Admin Email\",value:email,onChange:e=>setEmail(e.target.value),required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Admin Password\",value:password,onChange:e=>setPassword(e.target.value),required:true,disabled:loading,style:{width:'100%',padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'12px',margin:'10px 0',backgroundColor:loading?'#ccc':'#dc3545',color:'white',border:'none',borderRadius:'4px',fontSize:'16px',cursor:loading?'not-allowed':'pointer'},children:loading?'Logging in...':'Admin Login'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",style:{color:'red',backgroundColor:'#ffe6e6',padding:'10px',borderRadius:'4px',marginTop:'10px'},children:error})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'1.5rem',padding:'1rem',borderTop:'1px solid #eee'},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem'},children:\"Looking for user access?\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:'#007bff',textDecoration:'none',fontWeight:'bold'},children:\"\\u2190 User Login\"})]})]});};export default AdminLogin;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}